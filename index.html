<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="stylesheet" type="text/css" href="css/calc.css"/>
    <meta charset="UTF-8">
    <script src="js/jquery-3.1.1.min.js"></script>
    <script>
        $(document).ready(function () {
            var hystory = '';
            var display='';
            var result;
            var op1 = NaN;
            var op2 = NaN;
            var act = NaN;
            var fl1=0, fl2=0,fla=0,fod=0;

            function calculate(a,op,b) {
                switch (op){
                    case "+":{
                       return( parseFloat(a) + parseFloat(b))
                    }
                    case "-":{
                        return( parseFloat(a) - parseFloat(b))
                    }
                    case "*":{
                        return( parseFloat(a) * parseFloat(b))
                    }
                    case "/":{
                        return( parseFloat(a) / parseFloat(b))
                    }
                }
            }

            $('.btn-c').on('click',function () {
                if (fod == 1){
                    display = '';
                    fod = 0;
                }
                display = display + $(this).val();
                $('#dsp').val(display);
            });

            $('.btn-act').on('click',function () {
                if ( $(this).val() != '=') {
                    //если знак после первого операнда
                    if (fl1 == 0) {
                        fla = 1;
                        op1 = $('#dsp').val();
                        fl1 = 1;
                        act = $(this).val();
                        fod = 1;
                    }
                    if(fod==0){
                        fl2=1;
                        op2 = $('#dsp').val();
                        result = calculate(op1,act,op2).toString();
                        $('#history').val(result);
                        $('#dsp').val('');
                        op1 = result;
                    }

                }
            })
        }
    )</script>
    <title>Калькулятор</title>
</head>
<body>
<div class="calculator">
    <form name="calc">
        <input type="text" class="display" id="history" title="123"><br>
        <input type="text" class="display" id="dsp" title="456"><br>

        <input type="button" class="btn-act" id ="percent" value="%">
        <input type="button" class="btn-act" id ="radic" value=&radic;>
        <input type="button" class="btn-act" id ="mul" value="*">
        <input type="button" class="btn-act" id ="del" value="/">
<br>

        <input type="button" class="btn-c" value="7">
        <input type="button" class="btn-c" value="8">
        <input type="button" class="btn-c" value="9">
        <input type="button" class="btn-act"  value="c"><br>

        <input type="button" class="btn-c" value ='4'>
        <input type="button" class="btn-c" value ='5'>
        <input type="button" class="btn-c" value ='6'>
        <input type="button" class="btn-act" value ='+'><br>

        <input type="button" class="btn-c" value ='1'>
        <input type="button" class="btn-c" value ='2'>
        <input type="button" class="btn-c" value ='3'>
        <input type="button" class="btn-act" value ='-'><br>

        <input type="button" class="btn-act" value ='+-'>
        <input type="button" class="btn-c" value ='0'>
        <input type="button" class="btn-act" value ='.'>
        <input type="button" class="btn-act" value ='del'><br>
        <input type="button" class="btn-act" value ='='><br>
    </form>
</div>
</body>
</html>